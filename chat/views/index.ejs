<script>
  $(function(){
      var socket = io.connect();
      socket.on('connect', function(){
      });
      socket.on('cast msg', function(data){
          $('#chatlog').prepend('<p>' + data.name + ':' + data.message + '</p>');
      });
      $('input[type=submit]').click(function(){
          var data = {"name"    : $('#name').val(),
                      "message" : $('#message').val()};
          socket.json.emit('post msg', data);
      });
  });
</script>
<div>
  name:<input type="text" id="name">
  message:<input type="text" id="message">
  <input type="submit" value="send">
  <hr/>
  <div id="chatlog"></div>
</div>